import{l as Rt,h as H,n as At,i as wt,g as vt,p as Kt,o as Vt,q as Yt,r as Bt,v as Gt,w as Z,a as J,t as st,$ as Qt,d as g,e as d,b as W}from"../chunks/disclose-version.CnYHOUvi.js";import{B as Ot,a3 as Xt,N as Lt,G as ht,U as Zt,a4 as $t,b as Jt,K as Wt,L as te,H as ee,M as Ft,a5 as re,t as yt,u as gt,a6 as z,c as O,a7 as xt,a8 as bt,m as rt,s as nt,a9 as ae,aa as ne,ab as se,ac as oe,i as ie,S as ue,ad as le,q as at,O as de,ae as ve,af as fe,f as ce,ag as _e,ah as pe,ai as be,aj as me,A as he,e as _,v as ye,x as ge,ak as xe,w as tt,al as N,am as Ae}from"../chunks/runtime.BmOmaqJc.js";import{i as we}from"../chunks/lifecycle.DF0yDngq.js";import{p as P}from"../chunks/proxy.B9EHyGyZ.js";function De(t,e,r){let a=Zt,n;Ot(()=>{Xt(a,a=e())&&(n&&Lt(n),n=ht(()=>r(t)))})}let ft=null;function Te(t,e){return e}function Ee(t,e,r){for(var a=[],n=t.length,o=0;o<n;o++)ae(t[o].e,a,!0);if(n>0&&a.length===0&&e!==null){var v=e.parentNode;Vt(v),v.append(e)}ne(a,()=>{for(var p=0;p<n;p++)se(t[p].e);r!==void 0&&r()})}function Dt(t,e,r,a,n,o=null){var v={flags:e,items:new Map,next:null},p=(e&$t)!==0;if(p){var x=t;t=H?At(x.firstChild):x.appendChild(Rt())}var f=null;Ot(()=>{var y=r(),s=Jt(y)?y:y==null?[]:Array.from(y),b=s.length,l=v.flags;l&bt&&!ie(s)&&!(ue in s)&&(l^=bt,l&le&&!(l&z)&&(l^=z));let A=!1;if(H){var c=t.data===Wt;c!==(b===0)&&(te(wt),vt(!1),A=!0)}if(H){for(var i=wt[0],h=v,D,u=0;u<b;u++){if(i.nodeType!==8||i.data!==ee){A=!0,vt(!1);break}var m=i;i=At(i);var U=s[u],w=a(U,u);D=Ht(m,i,h,null,U,w,u,n,l),v.items.set(w,D),i=i.nextSibling,h=D}if(b>0)for(;i!==t;){var E=i.nextSibling;i.remove(),i=E}}H||Ce(s,v,t,n,l,a),o!==null&&(b===0?f?Ft(f):f=ht(()=>o(t)):f!==null&&Lt(f,()=>{f=null})),A&&vt(!0)})}function Ce(t,e,r,a,n,o){var K,C,M,F;var v=(n&oe)!==0,p=(n&(z|xt))!==0,x=t.length,f=e.items,y=e.next,s=y,b=new Set,l=e,A=new Set,c=[],i=[],h,D,u,m;if(v)for(m=0;m<x;m+=1)h=t[m],D=o(h,m),u=f.get(D),u!==void 0&&((K=u.a)==null||K.measure(),A.add(u));for(m=0;m<x;m+=1){if(h=t[m],D=o(h,m),u=f.get(D),u===void 0){var U=Kt(Rt()),w=s?s.o:r;w.before(U),l=Ht(U,w,l,l.next,h,D,m,a,n),f.set(D,l),c=[],i=[],s=l.next;continue}if(p&&Ie(u,h,m,n),u.e.f&re&&(Ft(u.e),v&&((C=u.a)==null||C.unfix(),A.delete(u))),u!==s){if(b.has(u)){if(c.length<i.length){var E=i[0],I;l=E.prev;var q=c[0],j=c[c.length-1];for(I=0;I<c.length;I+=1)Tt(c[I],E,r);for(I=0;I<i.length;I+=1)b.delete(i[I]);$(q.prev,j.next),$(l,q),$(j,E),s=E,l=j,m-=1,c=[],i=[]}else b.delete(u),Tt(u,s,r),$(u.prev,u.next),$(u,l.next),$(l,u),l=u;continue}for(c=[],i=[];s!==null&&s.k!==D;)b.add(s),i.push(s),s=s.next;if(s===null)continue;u=s}c.push(u),l=u,s=u.next}const S=Array.from(b);for(;s;)S.push(s),s=s.next;var ot=n&$t&&x===0?r:null;if(v){for(m=0;m<S.length;m+=1)(M=S[m].a)==null||M.measure();for(m=0;m<S.length;m+=1)(F=S[m].a)==null||F.fix()}Ee(S,ot,()=>{for(var T=0;T<S.length;T+=1){var B=S[T];f.delete(B.k),$(B.prev,B.next)}}),v&&yt(()=>{gt(()=>{var T;for(u of A)(T=u.a)==null||T.apply()})})}function Ie(t,e,r,a){a&z&&O(t.v,e),a&xt?O(t.i,r):t.i=r}function Ht(t,e,r,a,n,o,v,p,x){var f=ft;try{var y=(x&z)!==0,s=(x&bt)===0,b=y?s?rt(n):nt(n):n,l=x&xt?nt(v):v,A={i:l,v:b,k:o,a:null,e:null,o:t,prev:r,next:a};return r.next=A,a!==null&&(a.prev=A),ft=A,A.e=ht(()=>p(e,b,l)),A}finally{ft=f}}function Tt(t,e,r){for(var a=t.next?t.next.o:r,n=e?e.o:r,o=t.o;o!==a;){var v=o.nextSibling;n.before(o),o=v}}function $(t,e){t.next=e,e!==null&&(e.prev=t)}function ct(t){if(H){const e=t.getAttribute("value");Et(t,"value",null),Et(t,"checked",null),e&&(t.value=e)}}function Et(t,e,r){r=r==null?null:r+"";var a=t.__attributes??(t.__attributes={});H&&(a[e]=t.getAttribute(e),e==="src"||e==="href"||e==="srcset")||a[e]!==(a[e]=r)&&(r===null?t.removeAttribute(e):t.setAttribute(e,r))}const Pt=typeof window<"u",Ne=Pt?requestAnimationFrame:at,Se=Pt?()=>performance.now():()=>Date.now(),R={tick:t=>Ne(t),now:()=>Se(),tasks:new Set};function qt(t){R.tasks.forEach(e=>{e.c(t)||(R.tasks.delete(e),e.f())}),R.tasks.size!==0&&R.tick(qt)}function Ue(t){let e;return R.tasks.size===0&&R.tick(qt),{promise:new Promise(r=>{R.tasks.add(e={c:t,f:r})}),abort(){R.tasks.delete(e)}}}function Me(t,e,{bubbles:r=!1,cancelable:a=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,r,a,e),n}function et(t,e){t.dispatchEvent(Me(e))}function Re(t){const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function Be(t){const e={},r=t.split(";");for(const a of r){const[n,o]=a.split(":");if(!n||o===void 0)break;const v=Re(n.trim());e[v]=o.trim()}return e}const Oe=t=>t;function _t(t,e,r,a){var n=(t&pe)!==0,o=(t&be)!==0,v=(t&me)!==0,p=n&&o?"both":n?"in":"out",x,f=e.inert,y,s,b;function l(){return x??(x=r()(e,a==null?void 0:a(),{direction:p}))}var A={is_global:v,in(){e.inert=f,n?(et(e,"introstart"),y=mt(e,l(),s,1,()=>{et(e,"introend"),y=x=void 0})):(s==null||s.abort(),b==null||b())},out(h){o?(e.inert=!0,et(e,"outrostart"),s=mt(e,l(),y,0,()=>{et(e,"outroend"),s=x=void 0,h==null||h()}),b=s.reset):h==null||h()},stop:()=>{y==null||y.abort(),s==null||s.abort()}},c=ce;if((c.transitions??(c.transitions=[])).push(A),n&&Yt){let h=v;if(!h){for(var i=c.parent;i&&i.f&de;)for(;(i=i.parent)&&!(i.f&ve););h=!i||(i.f&fe)!==0}h&&yt(()=>{gt(()=>A.in())})}}function mt(t,e,r,a,n){if(_e(e)){var o;return yt(()=>{var w=gt(()=>e({direction:a===1?"in":"out"}));o=mt(t,w,r,a,n)}),{abort:()=>o.abort(),deactivate:()=>o.deactivate(),reset:()=>o.reset(),t:w=>o.t(w)}}if(r==null||r.deactivate(),!(e!=null&&e.duration))return n==null||n(),{abort:at,deactivate:at,reset:at,t:()=>a};var{delay:v=0,duration:p,css:x,tick:f,easing:y=Oe}=e,s=R.now()+v,b=(r==null?void 0:r.t(s))??1-a,l=a-b;p*=Math.abs(l);var A=s+p,c,i;if(x){for(var h=[],D=Math.ceil(p/16.666666666666668),u=0;u<=D;u+=1){var m=b+l*y(u/D),U=x(m,1-m);h.push(Be(U))}c=t.animate(h,{delay:v,duration:p,easing:"linear",fill:"forwards"}),c.finished.then(()=>{n==null||n(),a===1&&c.cancel()}).catch(w=>{if(c.startTime!==null&&c.currentTime!==null)throw w})}else b===0&&(f==null||f(0,1)),i=Ue(w=>{if(w>=A)return f==null||f(a,1-a),n==null||n(),!1;if(w>=s){var E=b+l*y((w-s)/p);f==null||f(E,1-E)}return!0});return{abort:()=>{c==null||c.cancel(),i==null||i.abort()},deactivate:()=>{n=void 0},reset:()=>{a===0&&(f==null||f(1,0))},t:w=>{var E=b+l*y((w-s)/p);return Math.min(1,Math.max(0,E))}}}let Ct=!1;function Le(t,e,r,a=r){t.addEventListener(e,r);const n=t.__on_r;n?t.__on_r=()=>{n(),a()}:t.__on_r=a,Ct||(Ct=!0,document.addEventListener("reset",o=>{Promise.resolve().then(()=>{var v;if(!o.defaultPrevented)for(const p of o.target.elements)(v=p.__on_r)==null||v.call(p)})},{capture:!0}))}function pt(t,e,r){Le(t,"input",()=>{r(It(t)?Nt(t.value):t.value)}),he(()=>{var a=e();t.__value=a,!(It(t)&&a===Nt(t.value))&&(t.type==="date"&&!a&&!t.value||(t.value=Bt(a)))})}function It(t){var e=t.type;return e==="number"||e==="range"}function Nt(t){return t===""?null:+t}const $e=!1,Fe=!0,Je=Object.freeze(Object.defineProperty({__proto__:null,prerender:Fe,ssr:$e},Symbol.toStringTag,{value:"Module"}));function St(t,e){const r=t.debtors.get(e);if(!r)return 0;const a=t.totalAmount;let n=0;for(const[,o]of t.debtors)n+=o.dayCount;return n===0?0:a/n*r.dayCount}function He(){let t=nt(P(new Map([[crypto.randomUUID(),{name:"Bách"}],[crypto.randomUUID(),{name:"Cường"}],[crypto.randomUUID(),{name:"Hoàng"}],[crypto.randomUUID(),{name:"Khoa"}],[crypto.randomUUID(),{name:"Long"}],[crypto.randomUUID(),{name:"Thịnh"}],[crypto.randomUUID(),{name:"Thuận"}],[crypto.randomUUID(),{name:"Tuyến"}]])));return{get debtors(){return _(t)},getDebtorName(e){const r=_(t).get(e);return r?r.name:"[Debtor not exists]"},createDebtor({name:e}){if(e){for(const[,r]of _(t))if(r.name===e)return;O(t,P(new Map([..._(t),[crypto.randomUUID(),{name:e}]])))}},deleteDebtor(e){_(t).has(e)&&(_(t).delete(e),O(t,P(new Map([..._(t)]))))}}}function Pe(){let t=nt(P({debtors:new Map,totalAmount:0}));return{get bill(){return _(t)},get debtors(){return _(t).debtors},get totalAmount(){return _(t).totalAmount},addDebtorToBill(e){_(t).debtors.has(e)||O(t,P({..._(t),debtors:new Map([..._(t).debtors,[e,{dayCount:0,amount:0}]])}))},removeDebtorFromBill(e){_(t).debtors.has(e)&&(_(t).debtors.delete(e),O(t,P({..._(t),debtors:new Map([..._(t).debtors])})))}}}const qe=t=>t;function je(t){const e=t-1;return e*e*e+1}function Ut(t){const e=typeof t=="string"&&t.match(/^\s*(-?[\d.]+)([^\s]*)\s*$/);return e?[parseFloat(e[1]),e[2]||"px"]:[t,"px"]}function ke(t,{delay:e=0,duration:r=400,easing:a=qe}={}){const n=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:a,css:o=>`opacity: ${o*n}`}}function Mt(t,{delay:e=0,duration:r=400,easing:a=je,x:n=0,y:o=0,opacity:v=0}={}){const p=getComputedStyle(t),x=+p.opacity,f=p.transform==="none"?"":p.transform,y=x*(1-v),[s,b]=Ut(n),[l,A]=Ut(o);return{delay:e,duration:r,easing:a,css:(c,i)=>`
			transform: ${f} translate(${(1-c)*s}${b}, ${(1-c)*l}${A});
			opacity: ${x-y*i}`}}var ze=st('<div class="card card-side bg-base-100 m-1 w-[20rem] border border-primary shadow-xl"><figure><img src="https://img.daisyui.com/images/stock/photo-1635805737707-575885ab0820.jpg" alt="Avatar"></figure> <div class="card-body p-2 text-center"><h2 class="card-title text-info justify-center"> </h2> <p>Con nợ</p> <div class="card-actions justify-center"><button class="btn btn-outline btn-primary w-32">Add To Bill</button> <button class="btn btn-outline btn-error w-32">Delete Debtor</button></div></div></div>'),Ke=st("<td> </td>"),Ve=st('<tr><th> </th><td><div class="avatar"><div class="w-16 rounded-full"><img src="https://img.daisyui.com/images/stock/photo-1635805737707-575885ab0820.jpg" alt="Avatar"></div></div></td><td> </td><td><input class="input" type="number" min="0"></td><!><td><button class="btn btn-outline btn-error">Remove From Bill</button></td></tr>'),Ye=st('<main><div tabindex="0" class="collapse-arrow bg-base-200 collapse"><input type="checkbox"> <h1 class="collapse-title text-3xl font-bold text-primary">Debtors</h1> <div class="collapse-content"><div class="flex flex-wrap"><!> <div class="card card-side bg-base-100 border-success m-1 w-[20rem] border shadow-xl"><figure><img src="https://img.daisyui.com/images/stock/photo-1635805737707-575885ab0820.jpg" alt="Avatar"></figure> <div class="card-body p-2 text-center"><h2 class="card-title justify-center"><input class="w-44 text-center" type="text" placeholder="New debtor name"></h2> <p></p> <div class="card-actions justify-center"><button class="btn btn-outline btn-success w-32">New Debtor</button></div></div></div></div></div></div> <div tabindex="0" class="collapse-arrow bg-base-200 collapse"><input type="checkbox"> <h1 class="collapse-title text-3xl font-bold text-primary">Bill</h1> <div class="collapse-content"><p class="text-info text-xl">Total amount: <input class="input text-xl" type="number" min="0"> VND</p> <div class="overflow-hidden overflow-x-auto"><table class="table text-xl"><thead class="text-xl"><tr><th></th><th>Avatar</th><th>Name</th><th>Days</th><th>Pay</th><th>Remove</th></tr></thead><tbody></tbody></table></div></div></div></main>');function We(t,e){ye(e,!1);const r=rt(He()),a=rt(Pe());let n=rt("");we();var o=Ye();Gt(C=>{Qt.title="Bills Calculator"});var v=g(o),p=g(v),x=d(d(p,!0)),f=d(d(x,!0)),y=g(f),s=g(y);Dt(s,1,()=>Array.from(_(r).debtors),Te,(C,M,F)=>{let T=()=>N(N(M))[0],B=()=>N(N(M))[1];var L=ze();_t(3,L,()=>Mt,()=>({y:10}));var V=g(L),it=d(d(V,!0)),Y=g(it),G=g(Y),ut=d(d(Y,!0)),Q=d(d(ut,!0)),k=g(Q),X=d(d(k,!0));tt(()=>W(G,B().name)),Z("click",k,()=>_(a).addDebtorToBill(T()),!1),Z("click",X,()=>_(r).deleteDebtor(T()),!1),J(C,L)});var b=d(d(s,!0)),l=g(b),A=d(d(l,!0)),c=g(A),i=g(c);ct(i);var h=d(d(c,!0)),D=d(d(h,!0)),u=g(D),m=d(d(v,!0)),U=g(m),w=d(d(U,!0)),E=d(d(w,!0)),I=g(E),q=d(g(I));ct(q);var j=d(d(I,!0)),S=g(j),ot=g(S),K=d(ot);Dt(K,15,()=>Array.from(_(a).debtors),(C,M)=>N(N(C))[0],(C,M,F)=>{let T=()=>N(N(M))[0],B=()=>N(N(M))[1];var L=Ve();_t(3,L,()=>Mt,()=>({y:10}));var V=g(L),it=g(V),Y=d(V),G=d(Y),ut=g(G);tt(()=>W(ut,_(r).getDebtorName(T())));var Q=d(G),k=g(Q);ct(k);var X=d(Q);De(X,()=>Math.round(St(_(a).bill,T())),lt=>{var dt=Ke();_t(1,dt,()=>ke);var zt=g(dt);tt(()=>W(zt,`${Bt(Math.round(St(_(a).bill,T())))} VND`)),J(lt,dt)});var jt=d(X),kt=g(jt);tt(()=>W(it,N(F)+1)),pt(k,()=>B().dayCount,lt=>(B().dayCount=lt,Ae(()=>Array.from(_(a).debtors)))),Z("click",kt,()=>_(a).removeDebtorFromBill(T()),!1),J(C,L)}),pt(i,()=>_(n),C=>O(n,C)),Z("click",u,()=>{_(r).createDebtor({name:_(n)}),O(n,"")},!1),pt(q,()=>_(a).bill.totalAmount,C=>xe(a,_(a).bill.totalAmount=C)),J(t,o),ge()}export{We as component,Je as universal};
